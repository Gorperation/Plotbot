import { popToast } from './lib/Toasts/toast'
import { figmaDoc } from './storage'

const artboard = `<meta charset='utf-8'><meta charset="utf-8"><span data-metadata="<!--(figmeta)eyJmaWxlS2V5Ijoic0hUS1E2UERxT2IzMWF6RWE1MjRuayIsInBhc3RlSUQiOjU2NTk5NjQwMiwiZGF0YVR5cGUiOiJzY2VuZSJ9Cg==(/figmeta)-->"></span><span data-buffer="<!--(figma)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(/figma)-->"></span><span style="white-space:pre-wrap;"></span>`
const type = 'text/html'
const blob = new Blob([artboard], { type })
const data = [new ClipboardItem({ [type]: blob })]

export async function copyFigmaArtboard() {
	try {
		await navigator.clipboard.write(data)
		popToast('Copied Figma Artboard', 'success')
	} catch (err) {
		console.error('Failed to copy: ', err)
	}
}

// read clipboard data
async function parseFigmaURL() {
	try {
		const regex =
			/(http(s?)):\/\/(www\.)?figma.com\/file\/(.+)\/(.+)\?node-id=(.+)/g
		const data = await navigator.clipboard.readText()
		const match = regex.exec(data)
		if (!match) return

		const file = match[4]
		const name = match[5]
		const node = match[6]
		return { file, name, node }
	} catch (err) {
		console.error('Failed to read: ', err)
	}
}

export async function loadFigmaURL() {
	const data = await parseFigmaURL()
	if (data?.file) {
		console.log('Setting figma store')
		figmaDoc.set(data)
	}
}

window.addEventListener('focus', async () => {})
